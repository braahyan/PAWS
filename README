export AWS_ACCESS_KEY_ID=__YOUR_ACCESS_KEY_HERE__
export AWS_SECRET_ACCESS_KEY=__YOUR_SECRET_ACCESS_KEY_HERE__
export AWS_ROLE_ARN=__YOUR_AWS_USER_ARN__

The AWS access key needs permissions to administer the account. Right now I have only tested with the administrator access role, but will be updating this as I gain a greater understanding of the AWS permissions model.

The AWS role supplied above must have a trust policy set up that has a trust relationship with both Lambda and API Gateway, additionally, it should have the "lambda:InvokeFunction" permission associated with it.



example main invocation.
python main.py --zip main.zip --function_name testfunction --path /test/foo/bar/baz --handler main.lambda_handler --api_name test_api

example update invocation -
python main.py --zip main.zip --function_name testfunction --path /test/foo/bar/baz --handler main.lambda_handler --api_id __SOME_RESTAPI_ID__